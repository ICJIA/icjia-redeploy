{"version":3,"names":[],"mappings":"","sources":["ari.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar App = {\n\n    init: function init() {\n        var text = \"text\";\n        console.log('ARI Init');\n        return this;\n    },\n\n    highlightSearch: function highlightSearch() {\n        $(\".search\").focus().select();\n        return this;\n    },\n\n    addThis: function addThis() {\n        var addThis = document.createElement('script');\n        addThis.setAttribute('src', '//s7.addthis.com/js/300/addthis_widget.js#pubid=cschweda');\n        document.body.appendChild(addThis);\n        return this;\n    },\n\n    initializeFactsheets: function initializeFactsheets() {\n        console.log('Factsheet init');\n        $('.selectpicker').selectpicker();\n        $('.selectpicker').on('changed.bs.select', function (e) {\n            $('.local-program-description').hide();\n            $('.factsheet').show();\n            var siteTitle = $(\".selectpicker option:selected\").text();\n            var siteURL = e.target.value;\n            $('.panel-title').html(siteTitle);\n            console.log('URL: ', e.target.value);\n            $.ajax(siteURL, {\n                success: function success(data) {\n                    $('.panel-body').html(data);\n                },\n                error: function (_error) {\n                    function error() {\n                        return _error.apply(this, arguments);\n                    }\n\n                    error.toString = function () {\n                        return _error.toString();\n                    };\n\n                    return error;\n                }(function () {\n                    console.log('Error: ', error);\n                })\n            });\n        });\n        return this;\n    },\n    initializeHomePageMap: function initializeHomePageMap() {\n        var _fusionChartObj;\n\n        // Map events\n        var fusionEventsObj = {\n\n            // \"entityRollover\": function(evt, data) {\n            //     console.log(data.label)\n            // },\n\n            \"entityClick\": function entityClick(evt, data) {\n                //alert(\"You have clicked on \" + data.label + \". Data ID: \" + data.id);\n                //var siteDescriptionLabel = mapCountyToSiteDescription(data.label)\n\n                //var metaData = getCountyMetaDataFromId(data.id);\n                var metaData = getCountyMetaData('id', data.id);\n                console.log(metaData);\n                if (metaData.displayValue != '') {\n                    //var factsheetURL = '/sites/site-' + metaData.toolText\n                    $('.selectpicker').selectpicker('val', metaData.title);\n                    //var factsheetTitle = metaData.title\n                    loadAjaxFactsheet(metaData);\n                    $('.factsheet').show();\n                }\n            }\n\n            // Map colors\n\n        };var fusionColorRangeObj = {\n            \"color\": [{\n                \"minValue\": \"0\",\n                \"maxValue\": \"500\",\n                \"displayValue\": \"ARI SFY17 sites\",\n                \"color\": \"#5a53f2\"\n\n            }, {\n                \"minValue\": \"500\",\n                \"maxValue\": \"1000\",\n                \"displayValue\": \"ARI planning grant counties\",\n                \"color\": \"#2e2a7a\"\n\n            }]\n\n            // Map specs\n        };var fusionChartObj = (_fusionChartObj = {\n            \"caption\": \"Adult Redeploy Illinois\",\n            \"subCaption\": \"SFY 2017\",\n            \"captionFontSize\": \"18\",\n            \"captionFontColor\": \"#222222\",\n            \"subcaptionFontSize\": \"14\",\n            \"subcaptionFontColor\": \"#666666\",\n            \"animation\": \"0\",\n            \"showBevel\": \"0\",\n            \"showCanvasBorder\": \"0\",\n            \"includeValueInLabels\": \"1\",\n            \"baseFontSize\": \"9\",\n            \"showToolTip\": \"1\",\n            \"showLabels\": \"1\",\n            \"includeNameInLabels\": \"0\",\n            \"showMarkerLabels\": \"1\",\n            \"fontBold\": \"1\",\n            \"hoverColor\": \"#eeeeee\",\n            \"exportenabled\": \"0\",\n            \"showexportdatamenuitem\": \"0\",\n            \"showprintmenuitem\": \"0\",\n            \"useHoverColor\": \"1\",\n            \"hoverOnEmpty\": \"1\",\n            \"borderColor\": \"#777777\",\n            \"legendPosition\": \"BOTTOM\",\n            \"legendItemFontSize\": \"12\",\n            \"legendItemFontColor\": \"#333333\",\n            \"connectorColor\": \"#ffffff\",\n            \"fillColor\": \"#ffffff\",\n            \"showLegend\": \"1\"\n        }, _defineProperty(_fusionChartObj, \"legendPosition\", \"bottom\"), _defineProperty(_fusionChartObj, \"baseFontColor\", \"#aaaaaa\"), _fusionChartObj);\n\n        // County metadata\n        var mapMetaData = [{\n            \"id\": \"001\",\n            \"displayValue\": \"AD\",\n            \"value\": \"500\",\n            \"toolText\": \"Adams\",\n            \"title\": \"Adams County\"\n        }, {\n            \"id\": \"003\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"005\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"007\",\n            \"displayValue\": \"BO\",\n            \"value\": \"10\",\n            \"toolText\": \"Boone\",\n            \"title\": \"Boone County\"\n        }, {\n            \"id\": \"009\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"011\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"013\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"015\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"017\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"019\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"021\",\n            \"displayValue\": \"CI\",\n            \"value\": \"10\",\n            \"toolText\": \"Christian\",\n            \"title\": \"Christian County\"\n        }, {\n            \"id\": \"023\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"025\",\n            \"displayValue\": \"CY\",\n            \"value\": \"500\",\n            \"toolText\": \"Clay\",\n            \"title\": \"Clay County\"\n        }, {\n            \"id\": \"027\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"029\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"031\",\n            \"displayValue\": \"CK\",\n            \"value\": \"10\",\n            \"toolText\": \"Cook\",\n            \"title\": \"Cook County\"\n        }, {\n            \"id\": \"033\",\n            \"displayValue\": \"CF\",\n            \"value\": \"10\",\n            \"toolText\": \"Crawford\",\n            \"title\": \"Crawford County\"\n        }, {\n            \"id\": \"035\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"037\",\n            \"displayValue\": \"DE\",\n            \"value\": \"10\",\n            \"toolText\": \"DeKalb\",\n            \"title\": \"DeKalb County\"\n        }, {\n            \"id\": \"039\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"041\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"043\",\n            \"displayValue\": \"DP\",\n            \"value\": \"10\",\n            \"toolText\": \"DuPage\",\n            \"title\": \"DuPage County\"\n        }, {\n            \"id\": \"045\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"047\",\n            \"displayValue\": \"EW\",\n            \"value\": \"10\",\n            \"toolText\": \"Edwards\",\n            \"title\": \"Edwards County\"\n        }, {\n            \"id\": \"049\",\n            \"displayValue\": \"EF\",\n            \"value\": \"10\",\n            \"toolText\": \"Effingham\",\n            \"title\": \"Effingham County\"\n        }, {\n            \"id\": \"051\",\n            \"displayValue\": \"FA\",\n            \"value\": \"500\",\n            \"toolText\": \"Fayette\",\n            \"title\": \"Fayette County\"\n        }, {\n            \"id\": \"053\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"055\",\n            \"displayValue\": \"FR\",\n            \"value\": \"10\",\n            \"toolText\": \"Franklin\",\n            \"title\": \"Franklin County\"\n        }, {\n            \"id\": \"057\",\n            \"displayValue\": \"FU\",\n            \"value\": \"10\",\n            \"toolText\": \"Fulton\",\n            \"title\": \"Fulton County\"\n        }, {\n            \"id\": \"059\",\n            \"displayValue\": \"GA\",\n            \"value\": \"10\",\n            \"toolText\": \"Gallatin\",\n            \"title\": \"Gallatin County\"\n        }, {\n            \"id\": \"061\",\n            \"displayValue\": \"GR\",\n            \"value\": \"500\",\n            \"toolText\": \"Greene\",\n            \"title\": \"Greene County\"\n        }, {\n            \"id\": \"063\",\n            \"displayValue\": \"GU\",\n            \"value\": \"10\",\n            \"toolText\": \"Grundy\",\n            \"title\": \"Grundy County\"\n        }, {\n            \"id\": \"065\",\n            \"displayValue\": \"HA\",\n            \"value\": \"10\",\n            \"toolText\": \"Hamilton\",\n            \"title\": \"Hamilton County\"\n        }, {\n            \"id\": \"067\",\n            \"displayValue\": \"HC\",\n            \"value\": \"10\",\n            \"toolText\": \"Hancock\",\n            \"title\": \"Hancock County\"\n        }, {\n            \"id\": \"069\",\n            \"displayValue\": \"HR\",\n            \"value\": \"10\",\n            \"toolText\": \"Hardin\",\n            \"title\": \"Hardin County\"\n        }, {\n            \"id\": \"071\",\n            \"displayValue\": \"HE\",\n            \"value\": \"10\",\n            \"toolText\": \"Henderson\",\n            \"title\": \"Henderson County\"\n        }, {\n            \"id\": \"073\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"075\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"077\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"079\",\n            \"displayValue\": \"JS\",\n            \"value\": \"500\",\n            \"toolText\": \"Jasper\",\n            \"title\": \"Jasper County\"\n        }, {\n            \"id\": \"081\",\n            \"displayValue\": \"JE\",\n            \"value\": \"10\",\n            \"toolText\": \"Jefferson\",\n            \"title\": \"Jefferson County\"\n        }, {\n            \"id\": \"083\",\n            \"displayValue\": \"JR\",\n            \"value\": \"10\",\n            \"toolText\": \"Jersey\",\n            \"title\": \"Jersey County\"\n        }, {\n            \"id\": \"085\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"087\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"089\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"091\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"093\",\n            \"displayValue\": \"KD\",\n            \"value\": \"10\",\n            \"toolText\": \"Kendall\",\n            \"title\": \"Kendall County\"\n        }, {\n            \"id\": \"095\",\n            \"displayValue\": \"KO\",\n            \"value\": \"10\",\n            \"toolText\": \"Knox\",\n            \"title\": \"Knox County\"\n        }, {\n            \"id\": \"097\",\n            \"displayValue\": \"LA\",\n            \"value\": \"10\",\n            \"toolText\": \"Lake\",\n            \"title\": \"Lake County\"\n        }, {\n            \"id\": \"099\",\n            \"displayValue\": \"LS\",\n            \"value\": \"10\",\n            \"toolText\": \"LaSalle\",\n            \"title\": \"LaSalle County\"\n        }, {\n            \"id\": \"101\",\n            \"displayValue\": \"LW\",\n            \"value\": \"10\",\n            \"toolText\": \"Lawrence\",\n            \"title\": \"Lawrence County\"\n        }, {\n            \"id\": \"103\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"105\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"107\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"109\",\n            \"displayValue\": \"MD\",\n            \"value\": \"10\",\n            \"toolText\": \"McDonough\",\n            \"title\": \"McDonough County\"\n        }, {\n            \"id\": \"111\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"113\",\n            \"displayValue\": \"ML\",\n            \"value\": \"10\",\n            \"toolText\": \"McLean\",\n            \"title\": \"McLean County\"\n        }, {\n            \"id\": \"115\",\n            \"displayValue\": \"MA\",\n            \"value\": \"10\",\n            \"toolText\": \"Macon\",\n            \"title\": \"Macon County\"\n        }, {\n            \"id\": \"117\",\n            \"displayValue\": \"MP\",\n            \"value\": \"500\",\n            \"toolText\": \"Macoupin\",\n            \"title\": \"Macoupin County\"\n        }, {\n            \"id\": \"119\",\n            \"displayValue\": \"MI\",\n            \"value\": \"10\",\n            \"toolText\": \"Madison\",\n            \"title\": \"Madison County\"\n        }, {\n            \"id\": \"121\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"123\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"125\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"127\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"129\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"131\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"133\",\n            \"displayValue\": \"ME\",\n            \"value\": \"10\",\n            \"toolText\": \"Monroe\",\n            \"title\": \"Monroe County\"\n        }, {\n            \"id\": \"135\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"137\",\n            \"displayValue\": \"MG\",\n            \"value\": \"500\",\n            \"toolText\": \"Morgan\",\n            \"title\": \"Morgan County\"\n        }, {\n            \"id\": \"139\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"141\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"143\",\n            \"displayValue\": \"PE\",\n            \"value\": \"10\",\n            \"toolText\": \"Peoria\",\n            \"title\": \"Peoria County\"\n        }, {\n            \"id\": \"145\",\n            \"displayValue\": \"PR\",\n            \"value\": \"500\",\n            \"toolText\": \"Perry\",\n            \"title\": \"Perry County\"\n        }, {\n            \"id\": \"147\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"149\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"151\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"153\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"155\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"157\",\n            \"displayValue\": \"RA\",\n            \"value\": \"10\",\n            \"toolText\": \"Randolph\",\n            \"title\": \"Randolph County\"\n        }, {\n            \"id\": \"159\",\n            \"displayValue\": \"RI\",\n            \"value\": \"10\",\n            \"toolText\": \"Richland\",\n            \"title\": \"Richland County\"\n        }, {\n            \"id\": \"161\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"163\",\n            \"displayValue\": \"SC\",\n            \"value\": \"10\",\n            \"toolText\": \"St. Clair\",\n            \"title\": \"St. Clair County\"\n        }, {\n            \"id\": \"165\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"167\",\n            \"displayValue\": \"SN\",\n            \"value\": \"10\",\n            \"toolText\": \"Sangamon\",\n            \"title\": \"Sangamon County\"\n        }, {\n            \"id\": \"169\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"171\",\n            \"displayValue\": \"ST\",\n            \"value\": \"500\",\n            \"toolText\": \"Scott\",\n            \"title\": \"Scott County\"\n        }, {\n            \"id\": \"173\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"175\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"177\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"179\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"181\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"183\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"185\",\n            \"displayValue\": \"WA\",\n            \"value\": \"10\",\n            \"toolText\": \"Wabash\",\n            \"title\": \"Wabash County\"\n        }, {\n            \"id\": \"187\",\n            \"displayValue\": \"WR\",\n            \"value\": \"10\",\n            \"toolText\": \"Warren\",\n            \"title\": \"Warren County\"\n        }, {\n            \"id\": \"189\",\n            \"displayValue\": \"WS\",\n            \"value\": \"500\",\n            \"toolText\": \"Washington\",\n            \"title\": \"Washington County\"\n        }, {\n            \"id\": \"191\",\n            \"displayValue\": \"WY\",\n            \"value\": \"10\",\n            \"toolText\": \"Wayne\",\n            \"title\": \"Wayne County\"\n        }, {\n            \"id\": \"193\",\n            \"displayValue\": \"WH\",\n            \"value\": \"10\",\n            \"toolText\": \"White\",\n            \"title\": \"White County\"\n        }, {\n            \"id\": \"195\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"197\",\n            \"displayValue\": \"WI\",\n            \"value\": \"10\",\n            \"toolText\": \"Will\",\n            \"title\": \"Will County\"\n        }, {\n            \"id\": \"199\",\n            \"displayValue\": \"\"\n        }, {\n            \"id\": \"201\",\n            \"displayValue\": \"WB\",\n            \"value\": \"10\",\n            \"toolText\": \"Winnebago\",\n            \"title\": \"Winnebago County\"\n        }, {\n            \"id\": \"203\",\n            \"displayValue\": \"\"\n        }];\n\n        /* ***********************************************\n         Map Functions\n         ************************************************* */\n\n        function generateLorumIpsum() {\n            var els = document.querySelectorAll('[data-lorem]');\n            for (var i in els) {\n                if (els.hasOwnProperty(i)) {\n                    var lorem = new Lorem();\n                    lorem.type = els[i].tagName == 'IMG' ? Lorem.IMAGE : Lorem.TEXT;\n                    lorem.query = els[i].getAttribute('data-lorem');\n                    lorem.createLorem(els[i]);\n                }\n            }\n            return this;\n        }\n\n        function loadAjaxFactsheet(metaDataObj) {\n            $('.panel-text').html('');\n            $('.panel-title').html(metaDataObj.title);\n            var factSheetUrl = _.camelCase(metaDataObj.title);\n            // $(\".panel-title\").after(function() {\n            //     return \"<div id='litext' data-lorem='2p'></div>\";\n            // });\n            $('.panel-text').attr('data-lorem', '2p');\n            generateLorumIpsum();\n            console.log('Load AJAX factsheet from: ', factSheetUrl);\n            return this;\n        }\n\n        function getCountyMetaData(key, value) {\n            var myObj;\n            if (key === 'title') {\n                myObj = _.find(mapMetaData, { 'title': value });\n            }\n            if (key === 'id') {\n                myObj = _.find(mapMetaData, { 'id': value });\n            }\n\n            return myObj;\n        }\n\n        function displayErrorMessage(e) {\n            $('.panel-title').html(e);\n            $('.panel-text').html('Content not defined.');\n            return this;\n        }\n\n        $('.factsheet').hide();\n        $('.selectpicker').selectpicker();\n        //$('.selectpicker').selectpicker('val', '/sites/site-002');\n        $('.selectpicker').on('changed.bs.select', function (e) {\n            //var factsheetTitle = $(\".selectpicker option:selected\").text()\n            $('.panel-text').html('');\n            $('.factsheet').show();\n            var factsheetTitle = e.target.value;\n            //console.log($(\".selectpicker option:selected\").text())\n            //console.log(factsheetTitle)\n            //var o = getCountyMetaDataFromTitle(factsheetTitle)\n            var o = getCountyMetaData('title', factsheetTitle);\n            console.log(o);\n            if (typeof o === \"undefined\") {\n                displayErrorMessage(factsheetTitle);\n            } else {\n                loadAjaxFactsheet(o);\n            }\n        });\n\n        // Render Fusion Map\n\n\n        var ariMap;\n        FusionCharts.ready(function () {\n            ariMap = new FusionCharts({\n                type: 'maps/illinois',\n                renderAt: 'chart-container',\n                width: '600',\n                height: '700',\n                dataFormat: 'json',\n                \"events\": fusionEventsObj,\n                dataSource: {\n                    \"chart\": fusionChartObj,\n                    \"colorrange\": fusionColorRangeObj,\n                    \"data\": mapMetaData\n                }\n            }).render();\n\n            //ariMap.resizeTo(700, 700).render();\n\n        });\n    }\n\n};\n\nexports.App = App;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar _App = require('./App.js');\n\n$(function () {\n    _App.App.init().highlightSearch().initializeHomePageMap();\n});\n\n},{\"./App.js\":1}]},{},[2]);\n"],"file":"ari.js"}